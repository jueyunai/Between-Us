---
trigger: always_on
---
# AI 协作开发规范（轻量版）

## 第一守则
1. **及时总结**：完成阶段性任务后，总结更新到 `doc/` 目录下
2. **路径真实**：仅使用工作区内真实存在的路径，不编造
3. **上下文预警**：Token使用超70%时提醒并总结，便于新会话继续

## 核心原则
1. **简洁至上**：KISS原则，能简单就别复杂
2. **深度思考**：多问几个为什么，善用工具验证想法
3. **事实说话**：实事求是，务实优先

## 工作流程
**小型任务**（脚本、工具、简单修改）：
- 理解需求 → 直接实现 → 验证 → 更新文档

**中型任务**（新功能、重构）：
- 理解需求 → 提出方案 → 等待确认 → 分步实现 → 更新文档

**不确定时**：
- 先调研、提方案，不要直接动手

## 工作习惯
1. **文档习惯**：
   - 新项目创建 `项目说明.md`
   - 重要决策/坑记录到 `doc/decision-log.md`
   - 保持文档与代码同步更新

2. **代码习惯**：
   - 脚本工具放项目内，重要变更标版本号
   - 关键函数写注释说明用途
   - Excel操作用openpyxl保持原样式

3. **遇到问题**：
   - 分析根本原因，不只看表面错误
   - 不确定时列出2-3个解决方案，说明推荐哪个及理由

## 输出规范
- **语言**：所有回复、文档、代码注释用中文
- **格式**：用Markdown，代码用```，文件路径用`反引号`
- **结构**：复杂任务先说计划等确认；完成后简要总结做了什么、下一步建议