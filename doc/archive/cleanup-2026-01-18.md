# é¡¹ç›®æ–‡ä»¶æ¸…ç†è®°å½•

**æ—¥æœŸ**: 2026-01-18  
**æ“ä½œ**: æ¸…ç†æœªä½¿ç”¨çš„æ–‡ä»¶å’Œä»£ç 

---

## ğŸ“‹ æ¸…ç†å†…å®¹

### å·²ç§»åŠ¨åˆ° `.recycle_bin/` çš„æ–‡ä»¶

#### 1. æ•°æ®åº“æ–‡ä»¶ï¼ˆå·²åºŸå¼ƒï¼‰
- `emotion_helper.db` â†’ `.recycle_bin/db/`
- `instance/emotion_helper.db` â†’ `.recycle_bin/db/`
- **åŸå› **: å·²è¿ç§»åˆ° Supabase

#### 2. JSON æ•°æ®æ–‡ä»¶ï¼ˆå·²è¿ç§»ï¼‰
- `data/users.json` â†’ `.recycle_bin/data/`
- `data/relationships.json` â†’ `.recycle_bin/data/`
- `data/coach_chats.json` â†’ `.recycle_bin/data/`
- `data/lounge_chats.json` â†’ `.recycle_bin/data/`
- **åŸå› **: æ•°æ®å·²è¿ç§»åˆ° Supabase

#### 3. æ—§ä»£ç å®ç°
- `storage.py` â†’ `.recycle_bin/legacy/`
- `models.py` â†’ `.recycle_bin/legacy/`
- `models_fa.py` â†’ `.recycle_bin/legacy/`
- **åŸå› **: å·²è¢« `storage_supabase.py` æ›¿ä»£

#### 4. FastAPI å¤‡é€‰æ–¹æ¡ˆ
- `app_fastapi.py` â†’ `.recycle_bin/alternatives/`
- `requirements_fastapi.txt` â†’ `.recycle_bin/alternatives/`
- **åŸå› **: é¡¹ç›®ä½¿ç”¨ Flaskï¼ŒFastAPI ç‰ˆæœ¬æœªå¯ç”¨

#### 5. æµ‹è¯•è„šæœ¬
- `test_login_api.py` â†’ `.recycle_bin/tests/`
- `test_supabase.py` â†’ `.recycle_bin/tests/`
- `check_passwords.py` â†’ `.recycle_bin/tests/`
- `cleanup_test_data.py` â†’ `.recycle_bin/tests/`
- **åŸå› **: è¿ç§»å’Œè°ƒè¯•å®Œæˆåä¸å†éœ€è¦

#### 6. Docker é…ç½®
- `Dockerfile` â†’ `.recycle_bin/`
- `docker-compose.yml` â†’ `.recycle_bin/`
- `.dockerignore` â†’ `.recycle_bin/`
- **åŸå› **: å½“å‰æœªä½¿ç”¨ Docker éƒ¨ç½²

#### 7. éƒ¨ç½²é…ç½®ï¼ˆåŒ…å«æ•æ„Ÿä¿¡æ¯ï¼‰
- `ms_deploy.json` â†’ `.recycle_bin/`
- **åŸå› **: åŒ…å«ç¡¬ç¼–ç çš„ API Keyï¼Œå­˜åœ¨å®‰å…¨é£é™©

#### 8. ä¸´æ—¶æ–‡ä»¶
- `coze_debug.json` â†’ `.recycle_bin/`
- **åŸå› **: è°ƒè¯•ä¸´æ—¶æ–‡ä»¶

#### 9. é‡å¤çš„æ¼”ç¤ºæ–‡ä»¶
- `static-demo/` â†’ `.recycle_bin/`
- **åŸå› **: ä¸ `static/demo/` é‡å¤

---

## ğŸ”§ é…ç½®æ›´æ–°

### æ›´æ–°äº† `.gitignore`
æ·»åŠ äº†ä»¥ä¸‹è§„åˆ™ï¼š
```gitignore
# å›æ”¶ç«™ç›®å½•ï¼ˆå·²åºŸå¼ƒçš„æ–‡ä»¶ï¼‰
.recycle_bin/

# ä¸´æ—¶å’Œæ—¥å¿—æ–‡ä»¶
*.log
coze_debug.json
app.log
```

---

## ğŸ“‚ æ¸…ç†åçš„é¡¹ç›®ç»“æ„

```
emotion-helper/
â”œâ”€â”€ app.py                      # âœ… Flask ä¸»åº”ç”¨
â”œâ”€â”€ storage_supabase.py         # âœ… Supabase å­˜å‚¨å±‚
â”œâ”€â”€ supabase_schema.sql         # âœ… æ•°æ®åº“è¡¨ç»“æ„
â”œâ”€â”€ requirements.txt            # âœ… Python ä¾èµ–
â”œâ”€â”€ .env                        # âœ… ç¯å¢ƒå˜é‡ï¼ˆä¸æäº¤ï¼‰
â”œâ”€â”€ .env.example               # âœ… ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ .gitignore                 # âœ… Git å¿½ç•¥è§„åˆ™
â”œâ”€â”€ README.md                  # âœ… é¡¹ç›®è¯´æ˜
â”œâ”€â”€ DB_DEBUG_GUIDE.md          # âœ… æ•°æ®åº“è°ƒè¯•æŒ‡å—
â”œâ”€â”€ doc/                       # âœ… æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ unused-files-analysis.md
â”‚   â”œâ”€â”€ cleanup-2026-01-18.md
â”‚   â””â”€â”€ ...
â”œâ”€â”€ static/                    # âœ… é™æ€èµ„æº
â”œâ”€â”€ templates/                 # âœ… HTML æ¨¡æ¿
â”œâ”€â”€ .qoder/                    # âœ… AI åä½œè§„èŒƒ
â””â”€â”€ .recycle_bin/              # ğŸ—‘ï¸ å›æ”¶ç«™ï¼ˆä¸æäº¤åˆ° Gitï¼‰
    â”œâ”€â”€ data/                  # JSON æ•°æ®å¤‡ä»½
    â”œâ”€â”€ db/                    # SQLite æ•°æ®åº“
    â”œâ”€â”€ legacy/                # æ—§ä»£ç 
    â”œâ”€â”€ alternatives/          # FastAPI ç‰ˆæœ¬
    â”œâ”€â”€ tests/                 # æµ‹è¯•è„šæœ¬
    â””â”€â”€ ...
```

---

## âœ… æ¸…ç†æ•ˆæœ

- **æ¸…ç†æ–‡ä»¶æ•°**: çº¦ 20+ ä¸ªæ–‡ä»¶
- **èŠ‚çœç©ºé—´**: çº¦ 5-10 MB
- **é¡¹ç›®ç»“æ„**: æ›´æ¸…æ™°ï¼Œåªä¿ç•™æ­£åœ¨ä½¿ç”¨çš„æ–‡ä»¶
- **å®‰å…¨æ€§**: ç§»é™¤äº†åŒ…å«æ•æ„Ÿä¿¡æ¯çš„é…ç½®æ–‡ä»¶

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **å›æ”¶ç«™ä¿ç•™**: `.recycle_bin/` ç›®å½•å·²æ·»åŠ åˆ° `.gitignore`ï¼Œä¸ä¼šæäº¤åˆ° GitHub
2. **æ•°æ®å®‰å…¨**: JSON æ•°æ®æ–‡ä»¶å·²å¤‡ä»½åœ¨å›æ”¶ç«™ï¼ŒSupabase ä¸­æœ‰å®Œæ•´æ•°æ®
3. **å¯æ¢å¤**: å¦‚éœ€æ¢å¤æ–‡ä»¶ï¼Œå¯ä» `.recycle_bin/` ä¸­æ‰¾å›
4. **å®šæœŸæ¸…ç†**: ç¡®è®¤æ— è¯¯åï¼Œå¯ä»¥æ‰‹åŠ¨åˆ é™¤ `.recycle_bin/` ç›®å½•

---

## ğŸ¯ ä¸‹ä¸€æ­¥å»ºè®®

1. **æµ‹è¯•åº”ç”¨**: è¿è¡Œ `python app.py` ç¡®ä¿åŠŸèƒ½æ­£å¸¸
2. **æäº¤ä»£ç **: 
   ```bash
   git add .
   git commit -m "æ¸…ç†æœªä½¿ç”¨çš„æ–‡ä»¶ï¼Œç§»è‡³å›æ”¶ç«™"
   git push
   ```
3. **ç¡®è®¤æ— è¯¯å**: å¯ä»¥åˆ é™¤ `.recycle_bin/` ç›®å½•é‡Šæ”¾ç©ºé—´
4. **ä¿æŒæ•´æ´**: å®šæœŸæ¸…ç†ä¸´æ—¶æ–‡ä»¶å’Œæ—¥å¿—

---

**æ“ä½œäºº**: AI Assistant  
**çŠ¶æ€**: âœ… å®Œæˆ  
**é£é™©**: ä½ï¼ˆå·²å¤‡ä»½ï¼Œå¯æ¢å¤ï¼‰
